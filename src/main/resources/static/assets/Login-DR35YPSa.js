import{d as v,c as u,o as c,a as o,u as b,r as k,b as $,e as s,w as t,f as r,g as B,h as a,i as L,j as M}from"./index-ZRmCAO4x.js";import{l as V}from"./auth-aatGQ82G.js";import{_ as R}from"./_plugin-vue_export-helper-DLdCVoit.js";import{R as z,S as H,P as I}from"./ServerSharp-DKx9AykC.js";const N={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},P=o("path",{d:"M352 96a64 64 0 0 0-58.86 89.11l-101.14 88V151.39a64 64 0 1 0-64 0v209.22a64 64 0 1 0 64 0V358l154.25-134.27c1.9.17 3.81.27 5.75.27a64 64 0 0 0 0-128zM160 64a32 32 0 1 1-32 32a32 32 0 0 1 32-32zm0 384a32 32 0 1 1 32-32a32 32 0 0 1-32 32zm192-256a32 32 0 1 1 32-32a32 32 0 0 1-32 32z",fill:"currentColor"},null,-1),D=[P],G=v({name:"GitBranchSharp",render:function(i,d){return c(),u("svg",N,D)}}),q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},A=o("path",{d:"M420 192h-68v-80a96 96 0 1 0-192 0v80H92a12 12 0 0 0-12 12v280a12 12 0 0 0 12 12h328a12 12 0 0 0 12-12V204a12 12 0 0 0-12-12zm-106 0H198v-80.75a58 58 0 1 1 116 0z",fill:"currentColor"},null,-1),K=[A],U=v({name:"LockClosedSharp",render:function(i,d){return c(),u("svg",q,K)}}),j={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},E=o("path",{d:"M426 266a54.07 54.07 0 0 0-49.3 32h-24.84l-27-81a22 22 0 0 0-42 .92l-37.2 130.2l-48-281.74a22 22 0 0 0-43-1.72L94.82 298H32v44h80a22 22 0 0 0 21.34-16.66L171.69 172l46.61 273.62A22 22 0 0 0 238.76 464H240a22 22 0 0 0 21.15-16l44.47-149.62l9.51 28.62A22 22 0 0 0 336 342h40.7a54 54 0 1 0 49.3-76z",fill:"currentColor"},null,-1),F=[E],J=v({name:"PulseSharp",render:function(i,d){return c(),u("svg",j,F)}}),O={class:"login-container"},T={class:"login-left"},W={class:"decoration"},Q={class:"feature-list"},X={class:"feature-item"},Y={class:"feature-item"},Z={class:"feature-item"},ee={class:"feature-item"},oe={class:"login-right"},se={class:"login-box"},te={__name:"Login",setup(p){const i=B(),d=b(),g=k(null),f=k(!1),l=$({username:"admin",password:""}),S={username:{required:!0,message:"请输入用户名",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"}},w=async()=>{var _;try{await((_=g.value)==null?void 0:_.validate()),f.value=!0;const e=await V(l);localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),d.success("登录成功"),i.push("/")}catch(e){if(e!=null&&e.errorFields)return;console.error(e)}finally{f.value=!1}};return(_,e)=>{const n=r("n-icon"),x=r("n-input"),m=r("n-form-item"),y=r("n-button"),C=r("n-form");return c(),u("div",O,[o("div",T,[o("div",W,[s(n,{size:"120",color:"#fff",class:"logo-icon"},{default:t(()=>[s(a(z))]),_:1}),e[6]||(e[6]=o("h1",{class:"brand-title"},"MarsDeploy",-1)),e[7]||(e[7]=o("p",{class:"brand-desc"},"轻量级 CICD 自动化部署平台",-1)),o("div",Q,[o("div",X,[s(n,{size:"24",color:"#fff"},{default:t(()=>[s(a(z))]),_:1}),e[2]||(e[2]=o("span",null,"一键构建部署",-1))]),o("div",Y,[s(n,{size:"24",color:"#fff"},{default:t(()=>[s(a(G))]),_:1}),e[3]||(e[3]=o("span",null,"Git 仓库集成",-1))]),o("div",Z,[s(n,{size:"24",color:"#fff"},{default:t(()=>[s(a(H))]),_:1}),e[4]||(e[4]=o("span",null,"多服务器管理",-1))]),o("div",ee,[s(n,{size:"24",color:"#fff"},{default:t(()=>[s(a(J))]),_:1}),e[5]||(e[5]=o("span",null,"实时构建日志",-1))])])])]),o("div",oe,[o("div",se,[e[9]||(e[9]=o("div",{class:"login-header"},[o("h2",null,"欢迎登录"),o("p",null,"Welcome to MarsDeploy")],-1)),s(C,{ref_key:"formRef",ref:g,model:l,rules:S,size:"large"},{default:t(()=>[s(m,{path:"username"},{default:t(()=>[s(x,{value:l.username,"onUpdate:value":e[0]||(e[0]=h=>l.username=h),placeholder:"请输入用户名",clearable:""},{prefix:t(()=>[s(n,{component:a(I)},null,8,["component"])]),_:1},8,["value"])]),_:1}),s(m,{path:"password"},{default:t(()=>[s(x,{value:l.password,"onUpdate:value":e[1]||(e[1]=h=>l.password=h),type:"password","show-password-on":"click",placeholder:"请输入密码",onKeyup:L(w,["enter"])},{prefix:t(()=>[s(n,{component:a(U)},null,8,["component"])]),_:1},8,["value"])]),_:1}),s(m,null,{default:t(()=>[s(y,{type:"primary",block:"",size:"large",loading:f.value,onClick:w},{default:t(()=>[...e[8]||(e[8]=[M(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])])}}},ie=R(te,[["__scopeId","data-v-199dca1a"]]);export{ie as default};
